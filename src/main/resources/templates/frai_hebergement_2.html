<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <script th:src="@{/js/script.js}"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire de declaration de frais</title>
    <link rel="stylesheet" type="text/css"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" />
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous">
        </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
</head>

<body>

    <div class="text-center" style="background-color: #222;">
        <h1>page de déclaration de frais</h1>
        <br>
        <form th:if="${#authorization.expression('isAuthenticated()')}" th:action="@{/logout}" method="post"
            class="d-inline-block">
            <input class="btn btn-danger " type="submit" value="Déconnexion" />
        </form>
    </div>
    <br>
    <div class="container">
        <div class="card">
            <div class="card-header ">
                <h2 class="text-center">Votre déclaration de frais annexes</h2>
                <b>Ref dossier: <span th:text="${numDossier}"></span></b>
            </div>
            <div class="row">
                <div class="col">
                    <div class="timeline-steps aos-init aos-animate" data-aos="fade-up">
                        <div class="timeline-step check">
                            <div class="timeline-content" data-toggle="popover" data-trigger="hover"
                                data-placement="top" title=""
                                data-content="And here's some amazing content. It's very engaging. Right?"
                                data-original-title="2003">
                                <div class="inner-circle"></div>
                                <p class="h6 mt-3 mb-1">1</p>
                                <p class="h6 text-muted mb-0 mb-lg-0">Preparer déclaration</p>
                            </div>
                        </div>
                        <div class="timeline-step check">
                            <div class="timeline-content" data-toggle="popover" data-trigger="hover"
                                data-placement="top" title=""
                                data-content="And here's some amazing content. It's very engaging. Right?"
                                data-original-title="2004">
                                <div class="inner-circle"></div>
                                <p class="h6 mt-3 mb-1">2</p>
                                <p class="h6 text-muted mb-0 mb-lg-0">Frais de transport</p>
                            </div>
                        </div>
                        <div class="timeline-step current">
                            <div class="timeline-content" data-toggle="popover" data-trigger="hover"
                                data-placement="top" title=""
                                data-content="And here's some amazing content. It's very engaging. Right?"
                                data-original-title="2005">
                                <div class="inner-circle"></div>
                                <p class="h6 mt-3 mb-1">3</p>
                                <p class="h6 text-muted mb-0 mb-lg-0">Frais d'hébergement</p>
                            </div>
                        </div>
                        <div class="timeline-step next">
                            <div class="timeline-content" data-toggle="popover" data-trigger="hover"
                                data-placement="top" title=""
                                data-content="And here's some amazing content. It's very engaging. Right?"
                                data-original-title="2010">
                                <div class="inner-circle"></div>
                                <p class="h6 mt-3 mb-1">4</p>
                                <p class="h6 text-muted mb-0 mb-lg-0">Frais de restauration</p>
                            </div>
                        </div>
                        <div class="timeline-step futur">
                            <div class="timeline-content" data-toggle="popover" data-trigger="hover"
                                data-placement="top" title=""
                                data-content="And here's some amazing content. It's very engaging. Right?"
                                data-original-title="2020">
                                <div class="inner-circle"></div>
                                <p class="h6 mt-3 mb-1">5</p>
                                <p class="h6 text-muted mb-0 mb-lg-0">Coordonnées bancaire</p>
                            </div>
                        </div>
                        <div class="timeline-step futur mb-0">
                            <div class="timeline-content" data-toggle="popover" data-trigger="hover"
                                data-placement="top" title=""
                                data-content="And here's some amazing content. It's very engaging. Right?"
                                data-original-title="2020">
                                <div class="inner-circle"></div>
                                <p class="h6 mt-3 mb-1">6</p>
                                <p class="h6 text-muted mb-0 mb-lg-0">Transmettre déclaration</p>
                            </div>
                        </div>
                        <div class="timeline-step futur mb-0">
                            <div class="timeline-content" data-toggle="popover" data-trigger="hover"
                                data-placement="top" title=""
                                data-content="And here's some amazing content. It's very engaging. Right?"
                                data-original-title="2020">
                                <div class="inner-circle"></div>
                                <p class="h6 mt-3 mb-1">7</p>
                                <p class="h6 text-muted mb-0 mb-lg-0">Récapitulatif</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="card-header ">
                    <h3>Etape 3: Déclarer vos frais d'hébergement</h3>
                    <hr>
                    <div class="card">
                        <h2>Votre mode d'hébergement</h2>
                        <div class="d-flex justify-content-between align-items-center margin-form">
                            <div>
                                <b><span>Mode d'hébergement que vous déclarez</span></b><br>
                                <span th:if="${typeHebergement}=='gratuit'" style="color: green;">J'ai bénéficié d'un
                                    hébergement gratuit</span>
                                <span th:if="${typeHebergement}=='derogation'" style="color: green;">J'ai bénéficié d'un
                                    hébergement gratuit</span>
                                <span th:if="${typeHebergement}=='payant'" style="color: green;">J'ai bénéficié d'un
                                    hébergement payant</span>
                            </div>
                            <a th:href="@{${flowExecutionUrl}+'&_eventId=boutonFraiHebergementRetour'}"
                                class="btn btn-warning" style="color: white;margin-right: 4%;">Modifier ces
                                informations</a>
                        </div>
                    </div>
                    <div th:if="${typeHebergement}=='payant'">
                        <div class="card mt-4">
                            <h4>Vos frais d'hébergement</h4>
                            <hr>
                            <div class="text-center p-3">
                                <form th:action="@{${flowExecutionUrl}+'&_eventId=boutonFraiRestauration'}"
                                    method="post">
                                    <div class="form-floating margin-form">
                                        <input type="text" name="lieuHebergement" class="form-control"
                                            placeholder="lieuHebergement" required />
                                        <label for="lieuHebergement" class="form-label">lieu Hebergement</label>
                                    </div>
                                    <br>
                                    <p class="alert alert-danger" style="text-align: left; margin-left: 1%;">
                                        <span>&#9888;</span> Montant maximal : 300€
                                    </p>
                                    <div class="form-floating margin-form">
                                        <input type="number" name="prixHebergement" id="prixTransport"
                                            class="form-control" placeholder="prixHebergement" max="300" required />
                                        <label for="prixHebergement" class="form-label">Prix Hebergement</label>
                                    </div>
                                    <div class="text-start margin-form">
                                        <label for="justificatifHebergement" style="text-align: left;">Sélectionnez un
                                            fichier:</label>
                                    </div>
                                    <div class="margin-form">
                                        <input type="file" id="fileUpload" name="justificatifHebergement"
                                            class="form-control" accept=".pdf, .jpg, .png" required>
                                    </div>
                                    <input type="submit" class="btn btn-success"
                                        value="Valider les frais d'hébergement" />
                                </form>
                            </div>
                        </div>
                    </div>
                    <div th:if="${typeHebergement}=='derogation'">
                        <form th:action="@{${flowExecutionUrl}+'&_eventId=boutonFraiRestauration'}" method="post">
                            <div class="form-floating margin-form">
                                <input type="hidden" name="lieuHebergement" class="form-control" value="domicile" />
                            </div>
                            <div class="form-floating margin-form">
                                <input type="hidden" name="prixHebergement" id="prixTransport" class="form-control"
                                    value="0" />
                                <input type="hidden" name="justificatifHebergement" value="null">
                            </div>
                            <div class="text-center">
                                <input type="submit" class="btn btn-success" value="Valider les frais d'hébergement" />
                            </div>

                        </form>
                    </div>
                    <div th:if="${typeHebergement}=='gratuit'">
                        <form th:action="@{${flowExecutionUrl}+'&_eventId=boutonFraiRestauration'}" method="post">
                            <div class="form-floating margin-form">
                                <input type="hidden" name="lieuHebergement" class="form-control" value="lieu Gratuit" />
                            </div>
                            <div class="form-floating margin-form">
                                <input type="hidden" name="prixHebergement" id="prixTransport" class="form-control"
                                    value="0" />
                                <input type="hidden" name="justificatifHebergement" value="null">
                            </div>
                            <div class="text-center">
                                <input type="submit" class="btn btn-success" value="Valider les frais d'hébergement" />
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>